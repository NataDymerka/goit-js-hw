{"version":3,"sources":["webpack:///./index.js","webpack:///./templates/photo-card.hbs"],"names":["debounce","require","form","document","createElement","setAttribute","classList","add","innerHTML","querySelector","prepend","loadMoreBtn","ul","after","input","pageNumber","searchForm","gallery","addEventListener","e","renderPage","target","value","window","scrollTo","getImages","async","url","base","fetch","response","imagesData","json","console","log","then","results","hits","str","map","imageData","cardTemplate","join","insertAdjacentHTML","markupCreate","Handlebars","module","exports","template","container","depth0","helpers","partials","data","propertyIsEnumerable","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","escapeExpression","webformatURL","call","largeImageURL","likes","views","comments","downloads"],"mappings":"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","file":"main.a5a17d16d4d1a7cbd50e.js","sourcesContent":["import './styles.css';\nimport \"core-js/stable\";\nimport \"regenerator-runtime/runtime\";\nimport cardTemplate from './templates/photo-card.hbs';\n// const basicLightbox = require('basiclightbox');\n// import basicLightbox from 'basiclightbox';\nconst debounce = require('lodash.debounce');\n\nconst form = document.createElement(\"form\");\nform.setAttribute(\"id\", \"search-form\");\nform.classList.add(\"search-form\");\nform.innerHTML = `<input type=\"text\" name=\"query\" autocomplete=\"off\" placeholder=\"Search images...\" />`;\ndocument.querySelector(\".intro\").prepend(form);\nconst loadMoreBtn = document.querySelector(\"button\");\nconst ul = document.createElement(\"ul\");\nul.classList.add(\"gallery\");\nloadMoreBtn.after(ul);\n\nconst apiKey = '14233608-90ab9ce0666b48ad5cd16ce4e';\nconst base = 'https://pixabay.com/api/';\nconst type = 'image_type=photo';\nconst orient = 'orientation=horizontal';\nlet pageNumber = '1';\nconst perPage = '12';\nconst searchForm = document.querySelector(\"#search-form\");\nconst gallery = document.querySelector(\".gallery\");\nlet input;\nsearchForm.addEventListener('input', debounce(inputHandler, 500));\nloadMoreBtn.addEventListener('click', loadMoreHandler);\n\nfunction inputHandler(e) {\n   pageNumber = 1;\n   gallery.innerHTML = '';\n   input = e.target.value;\n   renderPage(input);\n}\n\nfunction loadMoreHandler () {\n    pageNumber += 1;\n    renderPage(input);\n    window.scrollTo(0, 0);}\n\nconst getImages = async(input) => {\n    try{\n    const url = `${base}?${type}&${orient}&q=${input}&page=${pageNumber}&per_page=${perPage}&key=${apiKey}`;\n    const response = await fetch(url);\n    const imagesData = response.json();\n    return imagesData;\n    } catch (error) {\n        console.log (error);\n    }\n}\nfunction renderPage(input) {\n    getImages(input).then(results => markupCreate(results));\n}\nfunction markupCreate(results) {\n    console.log(results.hits);\n    const str = results.hits.map(imageData => cardTemplate(imageData)).join(' ');\ngallery.insertAdjacentHTML('afterbegin', str);\n// document.querySelector(\"img\").addEventListener('click', modalHandler);\n}\n\n// function modalHandler(e) {\n//     // e.preventDefault();\n//     const modalSrc = e.target.getAttribute('srcset');\n//     console.log(modalSrc);\n//     basicLightbox.create(`<img width=\"1400\" height=\"900\" src=\"${modalSrc}\">`).show()\n// }\n\n\n\n\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<li>\\r\\n    <div class=\\\"photo-card\\\">\\r\\n  <img src=\\\"\"\n    + alias5(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":12},\"end\":{\"line\":3,\"column\":28}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" srcset=\\\"\"\n    + alias5(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":45},\"end\":{\"line\":3,\"column\":62}}}) : helper)))\n    + \"\\\" />\\r\\n  <div class=\\\"stats\\\">\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n      \"\n    + alias5(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":6},\"end\":{\"line\":7,\"column\":15}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">visibility</i>\\r\\n     \"\n    + alias5(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":5},\"end\":{\"line\":11,\"column\":14}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">comment</i>\\r\\n      \"\n    + alias5(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":6},\"end\":{\"line\":15,\"column\":18}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n      \"\n    + alias5(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":6},\"end\":{\"line\":19,\"column\":19}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n  </div>\\r\\n</div>\\r\\n</li>\";\n},\"useData\":true});"],"sourceRoot":""}